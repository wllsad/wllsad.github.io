$(document).ready(function(){
    localStorage.setItem("杏仁饼*",JSON.stringify({
"foodname": "杏仁饼*",
"foodimg": "https://img0.baidu.com/it/u=3252658436,410786275&fm=253&fmt=auto&app=138&f=JPEG?w=650&h=480",
"foodrestaurant": "咀香园",
"fooddescription": "食品简介杏仁饼是一种绿豆饼，最早是在1918年，由中国广东省香山县（今中山市）的咀香园首创。最初的杏仁饼是选用绿豆磨成粉，再制成杏仁状的饼，在饼中间夹一块糖腌猪肉，经烘烤后制成绿豆饼。",
"foodstar": "四星",
"foodid": "4",
"foodmain": "杏仁饼是一种绿豆饼，最早是在1918年，由中国广东省香山县（今中山市）的咀香园首创，后来流传到香港、澳门等地，是一款广东传统饼食。\n最初的杏仁饼是选用绿豆磨成粉，再制成杏仁状的饼，在饼中间夹一块糖腌猪肉，经烘烤后制成绿豆饼。\n杏仁饼也以它的外形而得名，现在经过改良，己变成圆饼状。也有很多不一样的口味，包括素吃口味等。\n在澳门地区，杏仁饼变成了一种手信礼品，很多旅客到澳门都会买一些回国。杏仁饼亦传播到各国华人地区，包括美国大华超级市场、台北101的超市都可以买得到。"
}))
    localStorage.setItem("栾樨饼*",JSON.stringify({
"foodname": "栾樨饼*",
"foodimg": "https://img0.baidu.com/it/u=3932029659,4058464351&fm=253&fmt=auto&app=138&f=JPEG?w=668&h=500",
"foodrestaurant": "自己做",
"fooddescription": "栾樨饼是以一种叫做栾樨的植物的叶子和糯米粉、澄粉、粘米粉、冰片糖等为主要材料蒸制的糕饼，是珠江三角洲一带的特色小吃。",
"foodstar": "三星",
"foodid": "8",
"foodmain": "栾（luán）樨（xī）饼是以一种叫做栾樨的植物的叶子和糯米粉、澄粉、粘米粉、冰片糖等为主要材料蒸制的糕饼。是珠江三角洲一带的特色小吃，也是农历四月初八“佛诞”的传统食品，以中山最普遍。在部分地方，四月初八会有浴佛节、栾樨节等的别称，也跟佛教有关，人们在那天一般都会采摘栾樨叶做栾樨饼吃。传说200多年前“ 浴佛节”那天，一个和尚来到香山县（现 中山市）龙塘树坑的小河边洗澡，他刚脱下衣服，一条大蟒蛇闯了出来，直向他奔去。那和尚拔出宝剑，把 蟒蛇斩成几截，丢在河里。这时正好来了个老渔翁，他醉熏熏地抓起蛇头，又搬来蛇尾，胡乱地跳起舞来。这一舞，竟使那条蟒蛇死而复生了。它变成了一条龙，腾空而去。余下的几截蛇身，居然在河边变成了几棵小树，就是现在的栾樨树。有一年夏天，当地瘟疫流行，死了不少人。河边有户穷苦人家，无钱请医购药，闻到 栾樨树叶发出阵阵清香，便摘了一把，回家捣碎冲水喝，不久病就好了。这事一传十，十传百，人们纷纷采摘栾樨叶，冲水喝，做饼吃，后来每年四月八，人们还做栾樨饼来贡神。"
}))
    localStorage.setItem("钵仔糕*",JSON.stringify({
"foodname": "钵仔糕*",
"foodimg": "https://img2.baidu.com/it/u=608987530,2996462416&fm=253&fmt=auto&app=120&f=JPEG?w=625&h=500",
"foodrestaurant": "广州酒家",
"fooddescription": "钵仔糕,是广东省的地方特色传统糕点之一。 其主料是粘米粉或澄粉、木薯淀粉,以爽滑可口、口味丰富著称。钵仔糕可以分成两大类:老式钵仔糕和水晶钵仔糕。",
"foodstar": "五星",
"foodid": "7",
"foodmain": "钵仔糕（Bowl Rice Pudding），是广东省的地方特色传统糕点之一。\n其主料是粘米粉或澄粉、木薯淀粉，以爽滑可口、口味丰富著称。\n钵仔糕可以分成两大类：老式钵仔糕和水晶钵仔糕。\n老式钵仔糕在以前比较多，现在多见的是水晶钵仔糕。统的钵仔糕为广东小吃之一。首创于广东省台山县，已有数百年的历史。\n清朝咸丰间（公元1851—1861年）成书的《台山县志》载：“钵仔糕，前明士大夫每不远百里，泊船就之。”\n其实，当时驰名者只一家，在华丰迂桥旁，河底有石，沁出清泉，其家适设石上，取以洗糖，澄清去浊，以钵盛而蒸之，非他人所用。\n故后人采用钵仔来蒸糕之法一直传下来，成就如今的广东钵仔糕，以至风靡全国，甚则海内外。 "
}))
    localStorage.setItem("萝卜糕*",JSON.stringify({
"foodname": "萝卜糕*",
"foodimg": "https://img2.baidu.com/it/u=3531331781,2722592566&fm=253&fmt=auto&app=138&f=JPEG?w=393&h=293",
"foodrestaurant": "炳胜公馆",
"fooddescription": "萝卜糕是中式传统的糕点,在福建、广东等地区的传统特色糕点。采用在来米粉,然后在米粉浆中加入腌制好的萝卜丝等材料,上蒸笼蒸制而成的糕点小吃。",
"foodstar": "",
"foodid": "6",
"foodmain": "萝卜糕是中式传统的糕点，在福建、广东等地区的传统特色糕点。采用在来米粉，又称再来米粉，是中式点心中最好食用的粉，可以在制作中式小吃如萝卜糕、肉圆、碗粿时用到。然后在米粉浆中加入腌制好的萝卜丝等材料，上蒸笼蒸制而成的糕点小吃。   这种糕点吃法多样，在中国大小城市都可有卖，价格便宜，好吃又营养。\n萝卜糕，在福建地区称之为“菜头粿” ，是中式传统的糕点，采用在来米粉，又称再来米粉，是中式点心中最好使用的粉，可以在制作中式小吃如萝卜糕、肉圆、碗粿时用到。然后在米粉浆中加入腌制好的萝卜丝等材料，上蒸笼蒸制而成的糕点小吃。萝卜糕颜色洁白，质地柔软，味道鲜美。它是一种冬春适令小吃，家庭常在年节制作。这种糕点吃法多样，在我国福建、广东等地区都可有卖，价格便宜，好吃又营养。"
}))
    localStorage.setItem("芋头糕*",JSON.stringify({
"foodname": "芋头糕*",
"foodimg": "https://img2.baidu.com/it/u=1762608022,4035089214&fm=253&fmt=auto&app=138&f=JPEG?w=650&h=418",
"foodrestaurant": "陶陶居",
"fooddescription": "芋头糕，是广东潮汕地区、广州、阳江、佛山等地的一种传统特色小吃，属于粤菜系，该小吃在香港和澳门地区的茶楼也有贩卖，其材料有粘米粉、芋头、虾米、冬菇、腊肠和腊肉。",
"foodstar": "三星",
"foodid": "3",
"foodmain": "潮汕特产——芋头糕（芋粿）\n潮汕盛产芋，芋俗称“芋艿”、“芋头”，又名芋魁、蹲鸱，属天南星科，据说其原产于东印度和马来西亚等地。\n芋的种类很多，有青芋、签芋、白芋、九面芋、紫芋等十多种。最有名的要算是潮汕地区的葛洲芋、蜈田芋、横洋芋、东寮芋。\n芋通过炒、煮、焖、蒸、炸等烹调手法，可做成反砂芋、蜜浸芋、芋头粿、芋头糕、芋头饼、鱼头芋等十多道“芋菜”。芋头粿是潮汕粿品之一；用芋熬制松鱼头或草鱼头，芋香与鱼鲜两味相得益彰，这在潮汕已家喻户晓。有人把芋泥、芋酥、反砂芋称之为“芋味三绝”。"
}))
    localStorage.setItem("老婆饼*",JSON.stringify({
"foodname": "老婆饼*",
"foodimg": "https://img1.baidu.com/it/u=2575300287,784469144&fm=253&fmt=auto&app=138&f=JPEG?w=885&h=500",
"foodrestaurant": "广州酒家",
"fooddescription": "老婆饼，是广东省潮汕地区的糕点，为粤式糕点。老婆饼是以面粉、猪油、糖、白芝麻等食材为主要原料烤制的点心。",
"foodstar": "",
"foodid": "5",
"foodmain": "老婆饼，是广东省潮汕地区的糕点，为粤式糕点。\n老婆饼是以面粉、猪油、糖、白芝麻等食材为主要原料烤制的点心。\n老婆饼的面粉富含蛋白质、碳水化合物、维生素和钙、铁、磷、钾、镁等矿物质，有养心益肾、健脾厚肠、除热止渴的功效。社会评价 老婆饼这种美味的糕点是潮式月饼中用料最少、做工最简且最为人们所熟知的饼类。"
}))
    localStorage.setItem("马蹄糕*",JSON.stringify({
"foodname": "马蹄糕*",
"foodimg": "https://img1.baidu.com/it/u=114457390,2763943890&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=500",
"foodrestaurant": "陶陶居",
"fooddescription": "“马蹄糕是广东省广州市等地的传统小吃。其以糖水拌合荸荠粉或者地瓜粉蒸制而成。荸荠，粤语和闽语别称马蹄，故名。其色茶黄，呈半透明。",
"foodstar": "五星",
"foodid": "9",
"foodmain": "马蹄糕是江苏省苏州市、广东省广州市、福建省福州市和广西壮族自治区南宁市等地的一种传统甜点小吃，相传源于唐代，其以糖水拌合荸荠粉或者地瓜粉蒸制而成。荸荠，粤语和闽语别称马蹄，故名。其色茶黄，呈半透明，可折而不裂，撅而不断，软、滑、爽、韧兼备，味极香甜。\n马蹄糕口感甜蜜，入口即化。其口感使马蹄糕在粤菜中十分突出。荸荠又称马蹄，荸荠中含的磷是根茎类蔬菜中最高的，能促进人体生长发育和维持生理功能的需要，对牙齿骨骼的发育有很大好处，时可促进体内的糖、脂肪、蛋白质三大物质的代谢，调节酸碱平衡。因此荸荠适于儿童食用。荸荠有一定的抑制细菌作用，对降低血压、防治癌肿也有一定效果。荸荠含有粗蛋白、淀粉，能促进大肠蠕动。荸荠所含的粗脂肪有滑肠通便作用，可用来治疗便秘。荸荠质嫩多津，可治疗热病津伤口渴之症，对糖尿病尿多者，有一定的辅助治疗作用。荸荠水煎汤汁能利尿排淋，对于小便淋沥涩通者有一定治疗作用，可作为尿路感染患者的食疗佳品。荸荠还含有一种抗病毒物质可抑制流脑，流感病毒，能用于预防流脑及流感的传播。"
}))
    localStorage.setItem("黄金糕*",JSON.stringify({
"foodname": "黄金糕*",
"foodimg": "https://img1.baidu.com/it/u=2462267616,4197769279&fm=253&fmt=auto&app=138&f=JPEG?w=696&h=500",
"foodrestaurant": "利苑酒家",
"fooddescription": "黄金糕本名叫蜂窝糕，发源于南洋，是南洋娘惹糕的一种，黄金糕是该糕流传至广东之后的别名。此糕的重要原材料就是南洋木薯，成品呈蜂窝状，所以叫蜂窝糕，又因为切片后呈鱼翅丝状，又叫鱼翅糕\n\n",
"foodstar": "三星",
"foodid": "2",
"foodmain": "黄金糕本名叫蜂窝糕，发源于南洋，是南洋娘惹糕的一种，黄金糕是该糕流传至广东之后的别名。此糕的重要原材料就是南洋木薯，成品呈蜂窝状，所以叫蜂窝糕，又因为切片后呈鱼翅丝状，又叫鱼翅糕。该糕点之所以在百糕之中能称作黄金糕，原因有二，其一：是因为该糕的工艺和发酵以及烘烤要求非常高，就连做了几十年糕点的娘惹为了保证糕点的顺利出炉都迷信似的在发酵锅上放把菜刀来驱鬼，但有时还是失败。其二：由于该糕点当初所有的技术掌握在极限的广西东盟经济园区某个地方归国娘惹手里，好多广东师傅偷师不成，造成该糕连续几年在广东称为糕王，500克卖到20至30元，比猪羊肉还贵。其三：该糕的极品正面可看到细密的蜂窝孔，切片面必须是细如鱼翅丝状，糕底不可烤焦，整块糕呈金黄色，口感必须柔韧，并有蜂蜜和椰香，这并不是每个会做此糕的糕点师傅可以做到的。如今此糕技术已外泄，在全国已遍地开花，但是能做到极品的师傅真是少之又少，难怪当初此糕“寸块寸金”。"
}))
    localStorage.setItem("马拉糕*",JSON.stringify({
"foodname": "马拉糕*",
"foodimg": "https://img1.baidu.com/it/u=3213419263,1730963641&fm=253&fmt=auto&app=138&f=JPEG?w=310&h=207",
"foodrestaurant": "广州酒家",
"fooddescription": "马拉糕是以面粉、老酵、鸡蛋、糖、吉士粉（香料粉）、碱、发粉、熟猪油为原料制作的糕点。 名称溯源 马拉糕原是新加坡的马来族人爱吃的一种食品，原名叫“马来糕”，后传入香港、广东一带，才被广东方言称为“马拉糕",
"foodstar": "三星",
"foodid": "1",
"foodmain": "马拉糕松软，像海绵的柔软感，带有鸡蛋糕的香味，跟松糕有点相似，却比松糕更松软。网上流行的简易马拉糕制作方法，是用黄糖、碱水，以松糕的做法加以改良，省却使用猪油，也无需经过发酵程序，制作虽然省时，却没有真正马拉糕那样松软，感觉就好像人造海绵跟真正海绵的分别。\n由于蒸笼的形状关系，不论蒸包或是蒸糕都会有“倒汗水”现象，会把包或糕的表面弄湿，令美味大打折扣，因此，蒸好后的马拉糕，一底大概可以切成十多件，而一般人吃马拉糕都爱吃周边的，中间的数件则无人问津。"
}))
    

    for(let i =0;i<localStorage.length;i++){
      
        let food=localStorage.key(i);
        try{
            JSON.parse(localStorage.getItem(food))
        }catch(e){
            continue
        }
       
       
    
        let foodobj=JSON.parse(localStorage.getItem(food));
        if(!foodobj.foodname){
            continue
        }
        if(foodobj.foodname.endsWith("*")){
            continue
        }

        let foodname=foodobj.foodname;
        let fooddescription=foodobj.fooddescription;
        let foodrestaurant=foodobj.foodrestaurant;
        let foodimg=foodobj.foodimg;
        let foodstar=foodobj.foodstar
        let foodid=foodobj.foodid
        let foodmain=foodobj.foodmain

        let newcard=`<div class="card">
        <div class="left">
            <img src="${foodimg}" alt="">
        </div>
        <div class="right">
            <h2><a href="../template/template.html#${foodid}">${foodname}</a></h2>
            <div class="desc">
                <div class="star">美食星级：<span>${foodstar}</span></div>
                <div class="resturant">推荐餐厅：<span>${foodrestaurant}</span></div>                
            </div>
            <p>${fooddescription}</p>
            <button class="del">delete</button>
            
        </div>
    </div>`;
        $(".leftbox").append(newcard)
    }

    $("#btn").click(function(){
        let foodname=$("#foodname").val()
        let foodrestaurant=$("#foodrestaurant").val()
        let foodimg=$("#foodimg").val()
        let fooddescription=$("#fooddescription").val()
        let foodstar=$("#foodstar").find("option:selected").val()
        let foodid=$("#foodid").val()
        let foodmain=$("#foodmain").val()
        localStorage.setItem(foodname,JSON.stringify({
            foodname:foodname,
            foodimg:foodimg,
            foodrestaurant:foodrestaurant,
            fooddescription:fooddescription,
            foodstar:foodstar,
            foodid:foodid,
            foodmain:foodmain
        }))
        let newcard=`<div class="card">
        <div class="left">
            <img src="${foodimg}" alt="">
        </div>
        <div class="right">
            <h2><a href="../template/template.html#${foodid}">${foodname}</a></h2>
            <div class="desc">
                <div class="star">美食星级：<span>${foodstar}</span></div>
                <div class="resturant">推荐餐厅：<span>${foodrestaurant}</span></div>     
            </div>
            <p>${fooddescription}</p>
            <button class="del">delete</button>
        </div>
    </div>`
        
        $(".leftbox").append(newcard)
        $(".del").click(function(){
            let name=$(this).siblings()[0].innerText
            localStorage.removeItem(name)
            $(this).parent().parent().remove()
        })

        $("#foodname").val("")
        $("#foodrestaurant").val("")
        $("#foodimg").val("")
        $("#fooddescription").val("")
        $("#foodstar").find("option:selected").val("")
        $("#foodid").val("")
        $("#foodmain").val("")   
    })
    

    $(".del").click(function(){
        let name=$(this).siblings()[0].innerText
        localStorage.removeItem(name)
        $(this).parent().parent().remove()
    })


    

});
